系统软件Ft设计
====
<font size= 5> by 张超</font>
---

***
## 目录
---
* **测试坏味道**
* **测试架构**
* **测试二三事**

*** 

--- 
<center><font size= 10>***测试坏味道***</font></center>

*** 
## 背景
---
* **系统软件**
* **敏捷开发**
*** 
![](1.png)
***
## Ft坏味道 
---
* **运行时间长**
* **稳定性差**  
* **可自动化率低**
* **测试有效性低**
* **开发效率低**
* **可读性差**
***
## 测试重要性
---
* **防护网**
自动化测试的最大意义莫过于可重复和回归，它给了我们从容的改动的自信，也守护外围的变化对我们的影响。
* **测试即文档**
测试用例可以体现对外需求和设计意图。
*** 
## 重构测试
---
* **消除重复** 
* **重视命名**
* **性能优化**
* **架构重构**
* **用例隔离**
* **用例评审** 

***
## 测试表达
---

* **测试套件（TestFixture/TestSuit）**： 用来聚合相关的一系列测试用例
* **测试用例(Test)**： 具体的测试步骤的载体，单一职责，测试一个方面用例名要表达测试意图。
* **测试主体**：重点突出，表现变化测试点，建立输入和输出联系。
* **SetUp**： 测试套内每个用例开始前前需要执行的内容。
* **TearDown**: 测试套内每个用例结束后需要执行的内容。
*** 

--- 
 <center><font size= 10>***测试架构***</font></center>

***
## 架构选型
---

- 基础测试框架选型
- 分层设计,
- 二次开发成本
- 开发人员适应成本
*** 
## 测试框架选型
---
[gtest](https://github.com/google/googletest),google出品简单，被广泛应用
[cut](http://gitlab.zte.com.cn/cpp-lib/cut), 公司技术教练刘光聪主导开源作品，更面向对象的Xunit
[testNgPp](http://gitlab.zte.com.cn/cpp-lib/testngpp),前咨询师袁英杰开源xunit作品， 
[cppUnit](https://www.freedesktop.org/wiki/Software/cppunit/) 老牌开源框架
[catch](https://github.com/philsquared/Catch) 支持bdd风格的框架， 5000+star 开源作品
[cppUtest](http://cpputest.github.io/) 自带mock的测试框架， 400+star的开源作品
[mockcpp](http://gitlab.zte.com.cn/cpp-lib/mockcpp), 前咨询师袁英杰开源作品，为我们方便打桩，开了一扇门
***
## 架构建模 
---
* 统一语言,
* 边界模拟
* 平台支撑
* 关注点与业务架构的对应
*** 
## 设计 
---
* **可读性设计**: BDD和DSL
* **易用性设计**：数据恢复，典型场景封装，语法糖，组合设计的构造和校验。 
* **可维护性**：沙盒,定位手段增强.
***

---
<center><font size= 10>***FT二三事***</font></center>

***
## 测试用例来源
---
* **需求**
* **故障**
* **重点保护: 性能，算法**
*** 
## 覆盖率
---
它是一种数据，是一种表现，但绝对不应该是目标。绝对不要为了覆盖率提升而增加一些没有意义的用例。它能帮助我们做什么？
* 发现未来得及删除的废弃代码
* 发现没有必要存在的分支
* 发现未覆盖的分支
***

---
<center><font size= 10>Q&A</font></center>

***

---
<center><font size= 10>Thank you</font></center>



